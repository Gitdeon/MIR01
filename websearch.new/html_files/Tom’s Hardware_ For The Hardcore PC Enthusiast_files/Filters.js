define("Purch/Widgets/Filters",["jquery"],function(a){"use strict";var b=function(){this.filters=document.querySelectorAll('[name="widget-filter"]'),this.targets=[].slice.call(this.filters).reduce(function(a,b){var c=b.getAttribute("data-target"),d=document.querySelector("."+c);return a[c]={items:[].slice.call(d.querySelectorAll("[data-title]"))},a},{}),this.init()};return b.prototype={init:function(){for(var a=0;a<this.filters.length;a++)this.addEvent(this.filters[a])},addEvent:function(a){var b=this;a.addEventListener("keyup",function(){b.filter(this.getAttribute("data-target"),this.value)})},matchInput:function(a,b){return new RegExp(a,"i").test(b.getAttribute("data-title"))},filter:function(b,c){if(this.targets[b]){var d=this,e=this.targets[b].items;if(c){var f=e.filter(function(a){return!d.matchInput(c,a)}),g=e.filter(function(a){return d.matchInput(c,a)});a(g).removeClass("hide"),a(f).addClass("hide")}else a(e).removeClass("hide")}}},b});