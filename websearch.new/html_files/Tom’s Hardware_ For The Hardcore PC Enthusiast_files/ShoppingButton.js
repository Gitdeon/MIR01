define("Purch/Omniture/Tracking/ShoppingButton",["jquery","Purch/Omniture/Tracking"],function(a,b){"use strict";var c=function(b){this.options=a.extend({selector:".omniture-tracking-shopbtn",event:"click",init:!0,callback:function(){},gtmDataLayer:!1,gtmEvent:"purch.omniture.shopclick"},b||{}),!0===this.options.init&&this.init()};return c.prototype={init:function(){var a=this;a.Tracking=b.initModule(a.options)},setUp:function(b,c){var d=this,e=a(b),f=c.offers&&c.offers[0]?c.offers[0]:{},g=new RegExp("[^0-9.]","g"),h={event:10,evars:{eVar43:f.price?f.price.toString().replace(g,""):"",eVar23:c.shoppingTemplate,eVar34:f.merchant_name,eVar18:c.siteTracker+"-"+c.id,transactionID:f.tid,productName:c.name,contentID:f.contentID}};e.addClass(d.options.trackingClass?d.options.trackingClass:d.Tracking.TRACKING_NS),e.data(d.Tracking.TRACKING_NS,h),e.attr("data-omniture-tracking",JSON.stringify(h))}},c.initModule=function(a){return new c(a)},c});