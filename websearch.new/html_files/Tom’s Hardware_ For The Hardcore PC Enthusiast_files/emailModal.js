!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=1)}([function(n,t,e){var r,o,i;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
!function(e,u){"object"==typeof t&&t&&"string"!=typeof t.nodeName?u(t):(o=[t],void 0===(i="function"==typeof(r=u)?r.apply(t,o):r)||(n.exports=i))}(0,function(n){var t=Object.prototype.toString,e=Array.isArray||function(n){return"[object Array]"===t.call(n)};function r(n){return"function"==typeof n}function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(n,t){return null!=n&&"object"==typeof n&&t in n}var u=RegExp.prototype.test;var c=/\S/;function a(n){return!function(n,t){return u.call(n,t)}(c,n)}var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var l=/\s*/,f=/\s+/,p=/\s*=/,d=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function h(n){this.string=n,this.tail=n,this.pos=0}function y(n,t){this.view=n,this.cache={".":this.view},this.parent=t}function g(){this.cache={}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(n){var t=this.tail.match(n);if(!t||0!==t.index)return"";var e=t[0];return this.tail=this.tail.substring(e.length),this.pos+=e.length,e},h.prototype.scanUntil=function(n){var t,e=this.tail.search(n);switch(e){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=t.length,t},y.prototype.push=function(n){return new y(n,this)},y.prototype.lookup=function(n){var t,e=this.cache;if(e.hasOwnProperty(n))t=e[n];else{for(var o,u,c=this,a=!1;c;){if(n.indexOf(".")>0)for(t=c.view,o=n.split("."),u=0;null!=t&&u<o.length;)u===o.length-1&&(a=i(t,o[u])),t=t[o[u++]];else t=c.view[n],a=i(c.view,n);if(a)break;c=c.parent}e[n]=t}return r(t)&&(t=t.call(this.view)),t},g.prototype.clearCache=function(){this.cache={}},g.prototype.parse=function(t,r){var i=this.cache,u=i[t];return null==u&&(u=i[t]=function(t,r){if(!t)return[];var i,u,c,s=[],y=[],g=[],v=!1,b=!1;function w(){if(v&&!b)for(;g.length;)delete y[g.pop()];else g=[];v=!1,b=!1}function x(n){if("string"==typeof n&&(n=n.split(f,2)),!e(n)||2!==n.length)throw new Error("Invalid tags: "+n);i=new RegExp(o(n[0])+"\\s*"),u=new RegExp("\\s*"+o(n[1])),c=new RegExp("\\s*"+o("}"+n[1]))}x(r||n.tags);for(var k,E,S,O,A,D,P=new h(t);!P.eos();){if(k=P.pos,S=P.scanUntil(i))for(var j=0,C=S.length;j<C;++j)a(O=S.charAt(j))?g.push(y.length):b=!0,y.push(["text",O,k,k+1]),k+=1,"\n"===O&&w();if(!P.scan(i))break;if(v=!0,E=P.scan(m)||"name",P.scan(l),"="===E?(S=P.scanUntil(p),P.scan(p),P.scanUntil(u)):"{"===E?(S=P.scanUntil(c),P.scan(d),P.scanUntil(u),E="&"):S=P.scanUntil(u),!P.scan(u))throw new Error("Unclosed tag at "+P.pos);if(A=[E,S,k,P.pos],y.push(A),"#"===E||"^"===E)s.push(A);else if("/"===E){if(!(D=s.pop()))throw new Error('Unopened section "'+S+'" at '+k);if(D[1]!==S)throw new Error('Unclosed section "'+D[1]+'" at '+k)}else"name"===E||"{"===E||"&"===E?b=!0:"="===E&&x(S)}if(D=s.pop())throw new Error('Unclosed section "'+D[1]+'" at '+P.pos);return function(n){for(var t,e=[],r=e,o=[],i=0,u=n.length;i<u;++i)switch((t=n[i])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:e;break;default:r.push(t)}return e}(function(n){for(var t,e,r=[],o=0,i=n.length;o<i;++o)(t=n[o])&&("text"===t[0]&&e&&"text"===e[0]?(e[1]+=t[1],e[3]=t[3]):(r.push(t),e=t));return r}(y))}(t,r)),u},g.prototype.render=function(n,t,e){var r=this.parse(n),o=t instanceof y?t:new y(t);return this.renderTokens(r,o,e,n)},g.prototype.renderTokens=function(n,t,e,r){for(var o,i,u,c="",a=0,s=n.length;a<s;++a)u=void 0,"#"===(i=(o=n[a])[0])?u=this.renderSection(o,t,e,r):"^"===i?u=this.renderInverted(o,t,e,r):">"===i?u=this.renderPartial(o,t,e,r):"&"===i?u=this.unescapedValue(o,t):"name"===i?u=this.escapedValue(o,t):"text"===i&&(u=this.rawValue(o)),void 0!==u&&(c+=u);return c},g.prototype.renderSection=function(n,t,o,i){var u=this,c="",a=t.lookup(n[1]);if(a){if(e(a))for(var s=0,l=a.length;s<l;++s)c+=this.renderTokens(n[4],t.push(a[s]),o,i);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)c+=this.renderTokens(n[4],t.push(a),o,i);else if(r(a)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(t.view,i.slice(n[3],n[5]),function(n){return u.render(n,t,o)}))&&(c+=a)}else c+=this.renderTokens(n[4],t,o,i);return c}},g.prototype.renderInverted=function(n,t,r,o){var i=t.lookup(n[1]);if(!i||e(i)&&0===i.length)return this.renderTokens(n[4],t,r,o)},g.prototype.renderPartial=function(n,t,e){if(e){var o=r(e)?e(n[1]):e[n[1]];return null!=o?this.renderTokens(this.parse(o),t,e,o):void 0}},g.prototype.unescapedValue=function(n,t){var e=t.lookup(n[1]);if(null!=e)return e},g.prototype.escapedValue=function(t,e){var r=e.lookup(t[1]);if(null!=r)return n.escape(r)},g.prototype.rawValue=function(n){return n[1]},n.name="mustache.js",n.version="2.3.2",n.tags=["{{","}}"];var v=new g;return n.clearCache=function(){return v.clearCache()},n.parse=function(n,t){return v.parse(n,t)},n.render=function(n,t,r){if("string"!=typeof n)throw new TypeError('Invalid template! Template should be a "string" but "'+function(n){return e(n)?"array":typeof n}(n)+'" was given as the first argument for mustache#render(template, view, partials)');return v.render(n,t,r)},n.to_html=function(t,e,o,i){var u=n.render(t,e,o);if(!r(i))return u;i(u)},n.escape=function(n){return String(n).replace(/[&<>"'`=\/]/g,function(n){return s[n]})},n.Scanner=h,n.Context=y,n.Writer=g,n})},function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),i=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduce(function(n,t){return t(n)},n)}},u=function(n){return function(t){return console.log(n,t),t}},c=function(n){return!n},a=function(n){return null===n||void 0===n},s=function(n){return{isNothing:function(){return a(n)},map:function(t){return a(n)?l.Nothing():l.Just(t(n))},fmap:function(t){return a(n)?l.Nothing():t(n)},flatten:function(){return a(n)?l.Nothing():n},withDefault:function(t){return a(n)?t:n},toString:function(){return a(n)?"Nothing":"Just ".concat(n)}}},l={Just:s,Nothing:function(){return s(null)},map:function(n){return function(t){return t.map(n)}},fmap:function(n){return function(t){return t.fmap(n)}},withDefault:function(n){return function(t){return t.withDefault(n)}},flatten:function(n){return s(n.flatten())},toString:function(n){return n.toString()},chain:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduce(function(n,t){return n.map(t)},n)}},flatMap:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduce(function(n,t){return n.map(t).flatten()},n)}}},f=l,p={map:function(n){return function(t){return t.map(n)}},map2:function(n){return function(t){return function(e){for(var r=[],o=0;o<t.length&&o<e.length;)r.push(n(t[o])(e[o])),o+=1;return r}}},filter:function(n){return function(t){return t.filter(n)}},head:function(n){return f.Just(n[0])},from:function(n){return Array.from(n)},any:function(n){return function(t){return t.some(n)}},all:function(n){return function(t){return t.every(n)}},append:function(n){return function(t){return n.concat(t)}}},d={split:function(n){return function(t){return t.split(n)}},indexOf:function(n){return function(t){return t.indexOf(n)}},includes:function(n){return function(t){return t.includes(n)}},slice:function(n){return function(t){return t.slice(n)}},fromBase64:function(n){return window.atob(n)},toBase64:function(n){return window.btoa(n)},toJson:function(n){return f.Just(JSON.parse(n))},fromJson:function(n){return f.Just(JSON.stringify(n))}},m={set:function(n){return function(t){return function(e){return document.cookie="".concat(n,"=").concat(t,"; max-age=").concat(e,"; path=/"),t}}},get:function(n){return i(d.split("; "),p.filter(d.includes("".concat(n,"="))),p.map(d.slice("".concat(n,"=").length)),p.head)(document.cookie)}},h=function(n){return function(t){return t.classList.contains(n)}},y={createDomObject:function(n){return document.createRange().createContextualFragment(n)},addEventListener:function(n){return function(t){return function(e){return e.addEventListener(n,t,!0)}}},removeEventListener:function(n){return function(t){return function(e){return e.removeEventListener(n,t,!0)}}},preventDefault:function(n){return n.preventDefault(),n},appendChild:function(n){return function(t){return n.appendChild(t)}},addClass:function(n){return function(t){return t.classList.add(n),t}},removeClass:function(n){return function(t){return t.classList.remove(n),t}},getElementById:function(n){return function(t){return f.Just(t.getElementById(n))}},querySelectorAll:function(n){return function(t){var e=t.querySelectorAll(n);return e.length>0?f.Just(e):f.Nothing()}},querySelector:function(n){return function(t){return f.Just(t.querySelector(n))}},hasAttribute:function(n){return function(t){return t.hasAttribute(n)}},hasClass:h,hasClasses:function(n){return function(t){return n.some(function(n){return h(n)(t)})}},updateLocation:function(n){document.location.href=n}};function g(n){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var v=function(n){return function(t){return Object.prototype.hasOwnProperty.call(n,t)}},b=function(n){return"object"===g(n)},w={prop:function(n){return function(t){return f.Just(t[n])}},path:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduce(function(n,t){return n.isNothing()?n:f.map(function(n){return n[t]})(n)},f.Just(n))}},toArray:function(n){return Array.isArray(n)?n:Object.entries(n)},merge:function n(t){return function(e){var r,o=Object.assign({},t);for(r in e)if("__proto__"!==r||v(t)(r)){var i=t[r],u=e[r];Array.isArray(i)&&Array.isArray(u)?o[r]=p.append(i)(u):b(i)&&b(u)?o[r]=n(i)(u):o[r]=u}return o}}},x=function(n){return"ERR"===n},k=function(n){return function(t){return{isErr:function(){return x(n)},map:function(e){return x(n)?E.Err(t):E.Ok(e(t))},withDefault:function(e){return x(n)?e:t},type:n,value:t}}},E={Ok:k("OK"),Err:k("ERR"),map:function(n){return function(t){return t.map(n)}},withDefault:function(n){return function(t){return t.withDefault(n)}}},S=E,O={get:{},post:function(n){return function(t){return function(e){var r=new XMLHttpRequest;r.addEventListener("load",function(n){return function(t){var e=200===t.target.status?S.Ok(t.target.statusText):S.Err(t.target.statusText);n(e)}}(e)),r.addEventListener("error",function(n){return function(t){n(S.Err(t.target.statusText))}}(e)),r.open("POST",n,!0),r.send(t)}}}};function A(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}window.Purch=window.Purch||{},window.Purch.EmailModal=function(n){var t={css:'\n        #ec-modal .ec-modal-content {\n            width: 600px;\n            background-color: #fff;\n            text-align: center;\n            border-top: 7px solid #F9AE39;\n            position: relative;\n        }\n        #ec-modal .close-btn {\n            position: absolute;\n            right: 0;\n            padding: 5px 7px;\n            color: #777;\n            cursor: pointer;\n        }\n        #ec-modal .top-text {\n            color: black;\n            font-family: "Open Sans",Arial,sans-serif;\n        }\n        #ec-modal h2 {\n            font-size: 24px;\n            font-weight: bold;\n            margin-top: 40px;\n        }\n        #ec-modal h3 {\n            font-size: 16px;\n            margin-top: 15px;\n        }\n        #ec-modal #email {\n            margin: 15px 0 0;\n            padding: 5px;\n            font-family: Arial, sans-serif;\n            font-size: 16px;\n            width: 80%;\n        }\n        #ec-modal #form-submit {\n            padding: 10px 30px;\n            background: #F9AE39;\n            color: white;\n            border: none;\n            font-size: 16px;\n            margin-top: 15px;\n        }\n        #ec-modal #form-spinner {\n            margin: 15px 0 0 0;\n        }\n        #ec-modal .modal-fineprint {\n            font-size: 12px;\n            margin-bottom: 15px;\n            margin-top: 35px;\n            color: #767676;\n        }\n        #ec-modal .modal-fineprint a {\n            text-decoration: underline;\n        }\n    ',html:'\n        <div class="ec-modal-content">\n            <div class="close-btn"><i class="fa fa-times fa-lg" aria-hidden="true"></i></div>\n            <div class="top-text">\n                <h2 class="">{{title}}</h2>\n                <h3 class="">{{subTitle}}</h3>\n            </div>\n            <form class="" method="POST" id="emailForm" name="theForm">\n                <input type="hidden" id="redirectUrl" name="goto" value="" />\n                <input type="hidden" name="nlPlacement" value="pop-up">\n                <input type="email" id="email" name="email" placeholder="{{placeholder}}" required />\n                </br>\n                <input type="submit" id="form-submit" class="" value="{{formButton}}"/>\n                <i id="form-spinner" class="fa fa-refresh fa-spin fa-2x fa-fw" style="display:none;"></i>\n                <div class="modal-fineprint">\n                    By signing up, I agree to the site’s <a href="{{termslink}}" target="_blank" id="termsOfUse">terms of use</a> and <a href="{{policylink}}" target="_blank" id="privacyPolicy">privacy policy</a>.\n                </div>\n            </form>\n        </div>\n    ',html_content:{title:"Title",subTitle:"subTitle",formButton:"Submit",termslink:"http://www.purch.com/terms-of-use/",policylink:"http://www.purch.com/privacy-policy/",placeholder:"Enter Your Email"},triggerMethod:{type:"click",excludedLinks:["t.purch.com","purch.com","tomshardware","tomsguide","laptopmag","review","best","purch.fr","privacy-policy","terms-of-use","/newsletter","#section-0","conditions-generales-utilisation","cnil,2-2802","cnil,2-2211"],excludedClasses:["buyBtn"],scrollTop:50},ga:{event:"Newsletter: pop-up",location:"",actions:{close:"Dismiss",submit:"Submit",display:"Impression",termsOfUse:"Terms-of-Use",privacyPolicy:"Privacy-Policy"}},newsletter:{postUrl:"/newsletter"},cookie:{name:"emailModal",maxAge:94608e3},beforeDisplay:function(){z("beforeDisplay")("")},afterDisplay:function(){z("afterDisplay")("")},beforeClose:function(){z("beforeClose")("")},afterClose:function(){z("afterClose")("")},beforeSubmit:function(){z("beforeSubmit")(""),document.getElementById("form-submit").style.display="none",document.getElementById("form-spinner").style.display="inline-block"},afterSubmit:function(){z("afterSubmit")(""),document.getElementById("form-submit").style.display="inline-block",document.getElementById("form-spinner").style.display="none"},debug:!1},e=w.merge(t)(n);e.html=o.a.render(function(n){return'\n        <style>\n            #ec-modal {\n                z-index: 2147483647;\n                width: 100%;\n                position: fixed;\n                height: 100%;\n                justify-content: center;\n                align-items: center;\n                display: flex;\n                left: 0;\n                top: 0;\n                background-color: rgba(0, 0, 0, .6);\n            }\n        </style>\n        <div id="ec-modal">'.concat(n,"</div>\n    ")}(e.html)+function(n){return"\n        <style>".concat(n,"</style>\n    ")}(e.css),e.html_content);var r=function(n){return function(t){n.beforeSubmit(),y.preventDefault(t);var e=new FormData(t.target);z("submitting info")(e),O.post(n.newsletter.postUrl)(e)(function(n){return function(t){n.afterSubmit(),z("submitResults")(t),g(n)()}}(n)),x()}},a=function n(t){return null==t?f.Nothing():"A"===t.tagName?f.Just(t):n(t.parentElement)},s=i(y.hasAttribute("disable-modals"),c),l=i(y.createDomObject,y.appendChild(document.body)),h=function(n){z("displaying Modal")(n),n.beforeDisplay(),l(n.html),k(),m.set(n.cookie.name)(!0)(n.cookie.maxAge),N(n),B(n),q(),R(),F(n),n.afterDisplay()},g=function(n){return function(){z("closingModal")(n),n.beforeClose(),i(y.getElementById("ec-modal"),f.map(function(n){return n.style.display="none",n}))(document),b(),n.afterClose(),n.redirectUrl&&y.updateLocation(n.redirectUrl)}},v=function(n){return function(t){return function(e){return function(){(window.gtmDataLayer||window.dataLayer||[]).push({event:n,action:e,location:t})}}}}(e.ga.event)(e.ga.location),b=v(e.ga.actions.close),x=v(e.ga.actions.submit),k=v(e.ga.actions.display),E=v(e.ga.actions.termsOfUse),S=v(e.ga.actions.privacyPolicy),D=y.addEventListener("click"),P=y.removeEventListener("click"),j=y.addEventListener("submit"),C=y.addEventListener("scroll"),T=y.removeEventListener("scroll"),L=function(n){return function(t){var e=i(w.prop("target"),f.flatMap(a))(t),r=f.flatMap(w.prop("href"))(e),o=f.withDefault("")(r),u=i(f.map(s),f.withDefault(!1))(e),l=i(f.map(function(n){return function(t){return i(p.any(function(n){return d.includes(n)(t)}),c)(n)}}(n.triggerMethod.excludedLinks)),f.withDefault(!1))(r),m=i(f.map(function(n){return i(y.hasClass(n),c)}(n.triggerMethod.excludedClasses)),f.withDefault(!1))(e);u&&l&&m&&(y.preventDefault(t),_(),h(function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(t){A(n,t,e[t])})}return n}({},n,{redirectUrl:o})))}}(e),U=i(y.querySelectorAll("a"),f.withDefault([]))(document),M=function(n){return i(p.from,p.map(n))},_=function(){return M(P(L))(U)},J=function(n){return function(t){i(w.path("target","scrollingElement","scrollTop"),f.withDefault(0))(t)>=n.triggerMethod.scrollTop&&(I(),h(n))}}(e),I=function(){return T(J)(window)},N=function(n){return i(y.querySelector("#ec-modal .close-btn"),f.map(D(g(n))))(document)},B=function(n){return D(function(n){return function(t){return"ec-modal"===t.target.id?g(n)(t):{}}}(n))(document)},q=function(){return i(y.querySelector("#termsOfUse"),f.map(D(E)))(document)},R=function(){return i(y.querySelector("#privacyPolicy"),f.map(D(S)))(document)},F=function(n){return i(y.getElementById("emailForm"),f.map(j(r(n))))(document)},z=e.debug?u:function(){return function(){}};""===m.get(e.cookie.name).withDefault("")&&("scroll"===e.triggerMethod.type?(z("addingScroll")(""),C(J)(window)):(z("addingClick")(""),M(D(L))(U)))}(window.Purch.EMAIL_MODAL_CONF||{})}]);