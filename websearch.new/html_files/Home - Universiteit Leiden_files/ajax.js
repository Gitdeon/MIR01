(function(e){var f=e(".ajax");f.length&&f.each(function(){var b=e(this),c=b,g=b.data("content"),f=b.data("loading")||"Loading...",h=b.data("remove-on");b.hasClass("box")&&(c=b.find(".box-content"));var a=function(a){a===h?b.remove():(c.html(a),c.find("[data-ajax-callback]").each(function(){var b=e(this),a=b.data("ajax-callback").split(":"),c,d;1===a.length?d=a[0]:2===a.length&&(c=a[0].split(","),d=a[1]);if("function"===typeof window[d])d();else if("function"===typeof UL2[d])UL2[d]();else if("function"===
typeof b[d])b[d]();else c&&UL2.getScript(c)}),c.find("[data-box-ajax-callback]").each(function(){var a=e(this),b=a.data("box-ajax-callback");if("function"===typeof a[b])a[b]()}),"ajax"===b.attr("class")&&b.children().unwrap())},k=function(a){c.text(["Loading",g,"returned",a.status,a.statusText].join(" "))},l=function(){b.removeAttr("data-hide-while-loading")};g?(c.text(f),e.ajax(g).done(a).fail(k).always(l)):(a=c.find("div").first(),a.length&&!a.is(":visible")&&(a.show(),a.text(f)))})})(jQuery);